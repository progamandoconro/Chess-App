{"ast":null,"code":"var _jsxFileName = \"/home/sony/ionic-react-auth-firebase/src/pages/RegistrationPage.js\";\nimport React, { Component } from \"react\";\nimport { IonItem, IonLabel, IonButton, IonInput, IonToast } from \"@ionic/react\";\nimport BasicPage from \"../components/BasicPage\";\nimport { inject, observer } from \"mobx-react\";\n/**\n * sets the `title` and property hasMenu = true so that the menu for the side\n * drawer is displayed\n *\n * sets the `renderContent` propety to render the contents of the page\n */\n//const LoginPage = ({ isAuth, doLogin }) => {\n\nclass RegistrationPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this._doCreateAccount = async history => {\n      try {\n        let r = await this.props.store.doCreateUser({\n          email: this.email.current.value,\n          password: this.password.current.value,\n          firstName: this.firstName.current.value,\n          lastName: this.lastName.current.value\n        });\n\n        if (r.code) {\n          throw r;\n        } else {\n          history.push(\"/home\");\n        }\n      } catch (e) {\n        console.log(e);\n        this.setState(() => ({\n          showErrorToast: true,\n          errMsg: e.message\n        }));\n      }\n    };\n\n    this.state = {\n      showErrorToast: false,\n      errMsg: true\n    }; // see - https://reactjs.org/docs/uncontrolled-components.html\n\n    this.email = React.createRef();\n    this.password = React.createRef();\n    this.firstName = React.createRef();\n    this.lastName = React.createRef();\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(BasicPage, {\n      title: \"Create Account Page\",\n      hasMenu: true,\n      backAction: () => {},\n      renderContent: history => {\n        return React.createElement(React.Fragment, null, React.createElement(IonItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(IonLabel, {\n          position: \"floating\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Email Address\"), React.createElement(IonInput, {\n          type: \"email\",\n          ref: this.email,\n          name: \"email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        })), React.createElement(IonItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(IonLabel, {\n          position: \"floating\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"First Name\"), React.createElement(IonInput, {\n          type: \"text\",\n          ref: this.firstName,\n          name: \"firstName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        })), React.createElement(IonItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(IonLabel, {\n          position: \"floating\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Last Name\"), React.createElement(IonInput, {\n          type: \"text\",\n          ref: this.lastName,\n          name: \"lastName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        })), React.createElement(IonItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(IonLabel, {\n          position: \"floating\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Password\"), React.createElement(IonInput, {\n          type: \"password\",\n          ref: this.password,\n          name: \"password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          style: {\n            padding: 8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(IonButton, {\n          expand: \"full\",\n          style: {\n            margin: 14\n          },\n          onClick: e => {\n            if (!e.currentTarget) {\n              return;\n            }\n\n            e.preventDefault();\n\n            this._doCreateAccount(history);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Create Account\"), React.createElement(IonButton, {\n          expand: \"full\",\n          style: {\n            margin: 14\n          },\n          onClick: e => {\n            e.preventDefault();\n            history.goBack();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Cancel\")));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(IonToast, {\n      isOpen: this.state.showErrorToast,\n      onDidDismiss: () => this.setState(() => ({\n        showErrorToast: false\n      })),\n      message: this.state.errMsg,\n      duration: 2000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default inject(\"store\")(observer(RegistrationPage));","map":{"version":3,"sources":["/home/sony/ionic-react-auth-firebase/src/pages/RegistrationPage.js"],"names":["React","Component","IonItem","IonLabel","IonButton","IonInput","IonToast","BasicPage","inject","observer","RegistrationPage","constructor","props","_doCreateAccount","history","r","store","doCreateUser","email","current","value","password","firstName","lastName","code","push","e","console","log","setState","showErrorToast","errMsg","message","state","createRef","render","padding","margin","currentTarget","preventDefault","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { IonItem, IonLabel, IonButton, IonInput, IonToast } from \"@ionic/react\";\nimport BasicPage from \"../components/BasicPage\";\n\nimport { inject, observer } from \"mobx-react\";\n/**\n * sets the `title` and property hasMenu = true so that the menu for the side\n * drawer is displayed\n *\n * sets the `renderContent` propety to render the contents of the page\n */\n//const LoginPage = ({ isAuth, doLogin }) => {\n\nclass RegistrationPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showErrorToast: false,\n      errMsg: true\n    };\n\n    // see - https://reactjs.org/docs/uncontrolled-components.html\n    this.email = React.createRef();\n    this.password = React.createRef();\n    this.firstName = React.createRef();\n    this.lastName = React.createRef();\n  }\n\n  _doCreateAccount = async history => {\n    try {\n      let r = await this.props.store.doCreateUser({\n        email: this.email.current.value,\n        password: this.password.current.value,\n        firstName: this.firstName.current.value,\n        lastName: this.lastName.current.value\n      });\n\n      if (r.code) {\n        throw r;\n      } else {\n        history.push(\"/home\");\n      }\n    } catch (e) {\n      console.log(e);\n      this.setState(() => ({ showErrorToast: true, errMsg: e.message }));\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <BasicPage\n          title=\"Create Account Page\"\n          hasMenu\n          backAction={() => {}}\n          renderContent={history => {\n            return (\n              <>\n                <IonItem>\n                  <IonLabel position=\"floating\">Email Address</IonLabel>\n                  <IonInput type=\"email\" ref={this.email} name=\"email\" />\n                </IonItem>\n\n                <IonItem>\n                  <IonLabel position=\"floating\">First Name</IonLabel>\n                  <IonInput type=\"text\" ref={this.firstName} name=\"firstName\" />\n                </IonItem>\n\n                <IonItem>\n                  <IonLabel position=\"floating\">Last Name</IonLabel>\n                  <IonInput type=\"text\" ref={this.lastName} name=\"lastName\" />\n                </IonItem>\n                <IonItem>\n                  <IonLabel position=\"floating\">Password</IonLabel>\n                  <IonInput\n                    type=\"password\"\n                    ref={this.password}\n                    name=\"password\"\n                  />\n                </IonItem>\n                <div style={{ padding: 8 }}>\n                  <IonButton\n                    expand=\"full\"\n                    style={{ margin: 14 }}\n                    onClick={e => {\n                      if (!e.currentTarget) {\n                        return;\n                      }\n                      e.preventDefault();\n                      this._doCreateAccount(history);\n                    }}\n                  >\n                    Create Account\n                  </IonButton>\n                  <IonButton\n                    expand=\"full\"\n                    style={{ margin: 14 }}\n                    onClick={e => {\n                      e.preventDefault();\n                      history.goBack();\n                    }}\n                  >\n                    Cancel\n                  </IonButton>\n                </div>\n              </>\n            );\n          }}\n        />\n        <IonToast\n          isOpen={this.state.showErrorToast}\n          onDidDismiss={() => this.setState(() => ({ showErrorToast: false }))}\n          message={this.state.errMsg}\n          duration={2000}\n        />\n      </>\n    );\n  }\n}\n\nexport default inject(\"store\")(observer(RegistrationPage));\n"]},"metadata":{},"sourceType":"module"}