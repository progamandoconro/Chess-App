{"ast":null,"code":"var _jsxFileName = \"/home/sony/WebAdmin/src/pages/HomePage.js\";\nimport React, { Component } from \"react\";\nimport { IonPage, IonContent, IonHeader, IonToolbar, IonButton } from \"@ionic/react\";\nimport TabContainer from \"../components/TabContainer\";\nimport firebase from '@firebase/app';\n\nconst writeUserData = userInfo => {\n  firebase.database().ref('reservas').push({\n    userInfo\n  }).catch(error => {\n    //error callback\n    console.log('error ', error);\n  });\n};\n\nconst readUsersData = () => {\n  const nameRef = firebase.database().ref('reservas');\n  nameRef.once('value', snapshot => {\n    const state = snapshot.val();\n    this.setState({\n      reservas: state\n    });\n  });\n};\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this._changedTabs = e => {\n      if (e.currentTarget.attributes.tab.value === \"tab1\") {\n        this.setState(() => ({\n          onListPage: true\n        }));\n      } else {\n        this.setState(() => ({\n          onListPage: false\n        }));\n      }\n    };\n\n    this.state = {\n      onListPage: true,\n      username: []\n    };\n  }\n\n  componentDidMount() {\n    readUsersData;\n  }\n\n  render() {\n    const myData = this.state.reservas;\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(TabContainer, {\n      history: this.props.history,\n      changedTabs: e => this._changedTabs(e),\n      addItem: this._addItem,\n      showAddItemModal: this.state.showAddItemModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \" \", React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \" \", JSON.stringify({\n      myData\n    }), \" \")), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Introduzca la reserva a confirmar:\"), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: username => this.setState({\n        username\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(IonButton, {\n      title: \"Enviar\",\n      onClick: writeUserData(JSON.stringify(this.state.username)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Enviar \")));\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/home/sony/WebAdmin/src/pages/HomePage.js"],"names":["React","Component","IonPage","IonContent","IonHeader","IonToolbar","IonButton","TabContainer","firebase","writeUserData","userInfo","database","ref","push","catch","error","console","log","readUsersData","nameRef","once","snapshot","state","val","setState","reservas","HomePage","constructor","props","_changedTabs","e","currentTarget","attributes","tab","value","onListPage","username","componentDidMount","render","myData","history","_addItem","showAddItemModal","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonHeader,\n  IonToolbar,\n  IonButton,\n\n} from \"@ionic/react\";\nimport TabContainer from \"../components/TabContainer\";\nimport firebase from '@firebase/app'\n\nconst writeUserData =(userInfo)=> {\n  firebase.database().ref('reservas').push({\n      userInfo\n  }).catch((error)=>{\n      //error callback\n      console.log('error ' , error)\n  })\n}\n\nconst readUsersData = ()=>{\n  const nameRef =  firebase.database().ref('reservas')\n  nameRef.once('value', (snapshot)=> {\n  const state = snapshot.val()\nthis.setState({reservas: state})\n})\n\n}\n\n\nclass HomePage extends Component {\n\n  \n  \n\n  constructor(props) {\n    super(props);\n    this.state = {\n      onListPage: true,\n      username:[],\n      \n    };\n  }\n\n  componentDidMount () {\n\n    readUsersData\n    \n    }\n\n  _changedTabs = e => {\n    if (e.currentTarget.attributes.tab.value === \"tab1\") {\n      this.setState(() => ({ onListPage: true }));\n    } else {\n      this.setState(() => ({ onListPage: false }));\n    }\n  }\n\n\n  render() {\n    \n    const myData = this.state.reservas\n\n    return (\n      <IonPage>\n        <IonHeader>\n          <IonToolbar color=\"primary\">\n           \n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <TabContainer\n            history={this.props.history}\n            changedTabs={e => this._changedTabs(e)}\n            addItem={this._addItem}\n            showAddItemModal={this.state.showAddItemModal}\n          />\n         </IonContent>\n        \n        <IonContent> <li> {JSON.stringify({myData})} </li></IonContent>\n        <h1>Introduzca la reserva a confirmar:</h1>\n        <IonContent>\n       \n          <input onChange={username => this.setState({ username })} > \n          </input>  \n\n        <IonButton\n         title=\"Enviar\"\n         onClick={writeUserData(JSON.stringify( this.state.username))}\n         > Enviar </IonButton> \n        </IonContent>\n\n       \n\n       \n      \n      </IonPage>\n    );\n  }\n}\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}