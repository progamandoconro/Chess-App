{"ast":null,"code":"var _jsxFileName = \"/home/sony/WebAdmin/src/pages/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { IonItem, IonLabel, IonButton, IonInput, IonToast, IonText } from \"@ionic/react\";\nimport BasicPage from \"../components/BasicPage\";\nimport { inject, observer } from \"mobx-react\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this._doLogin = async history => {\n      try {\n        let error = await this.props.store.doLogin(this.email.current.value, this.password.current.value);\n\n        if (error.code) {\n          throw error;\n        }\n      } catch (e) {\n        this.setState(() => ({\n          showErrorToast: true,\n          errMsg: e.message\n        }));\n      }\n    };\n\n    this.state = {\n      showErrorToast: false,\n      errMsg: true\n    };\n    this.email = React.createRef();\n    this.password = React.createRef();\n  }\n\n  componentDidMount() {}\n\n  render() {\n    let _this$props$store = this.props.store,\n        isAuth = _this$props$store.isAuth,\n        initializationError = _this$props$store.initializationError,\n        activeUser = _this$props$store.activeUser;\n\n    if (activeUser) {\n      return React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(React.Fragment, null, React.createElement(IonText, {\n        color: \"danger\",\n        padding: true,\n        style: {\n          fontWeight: \"500\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, initializationError && initializationError.message), React.createElement(BasicPage, {\n        title: \"Login Page\",\n        hasMenu: true,\n        renderContent: history => {\n          return React.createElement(React.Fragment, null, React.createElement(IonItem, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, React.createElement(IonLabel, {\n            position: \"floating\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, \"Email Address\"), React.createElement(IonInput, {\n            type: \"email\",\n            ref: this.email,\n            name: \"email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          })), React.createElement(IonItem, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(IonLabel, {\n            position: \"floating\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, \"Password\"), React.createElement(IonInput, {\n            type: \"password\",\n            ref: this.password,\n            name: \"password\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            style: {\n              padding: 10,\n              paddingTop: 20\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, React.createElement(IonButton, {\n            expand: \"full\",\n            style: {\n              margin: 14\n            },\n            onClick: e => {\n              if (!e.currentTarget) {\n                return;\n              }\n\n              e.preventDefault();\n\n              this._doLogin(history);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, isAuth ? \"Logged In\" : \"Login\")));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(IonToast, {\n        color: \"danger\",\n        isOpen: this.state.showErrorToast,\n        onDidDismiss: () => this.setState(() => ({\n          showErrorToast: false\n        })),\n        message: this.state.errMsg,\n        duration: 2000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default inject(\"store\")(observer(LoginPage));","map":{"version":3,"sources":["/home/sony/WebAdmin/src/pages/LoginPage.js"],"names":["React","Component","Redirect","IonItem","IonLabel","IonButton","IonInput","IonToast","IonText","BasicPage","inject","observer","LoginPage","constructor","props","_doLogin","history","error","store","doLogin","email","current","value","password","code","e","setState","showErrorToast","errMsg","message","state","createRef","componentDidMount","render","isAuth","initializationError","activeUser","fontWeight","padding","paddingTop","margin","currentTarget","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  IonItem,\n  IonLabel,\n  IonButton,\n  IonInput,\n  IonToast,\n  IonText\n} from \"@ionic/react\";\nimport BasicPage from \"../components/BasicPage\";\n\nimport { inject, observer } from \"mobx-react\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showErrorToast: false,\n      errMsg: true\n    };\n\n    this.email = React.createRef();\n    this.password = React.createRef();\n  }\n  componentDidMount() {}\n\n  _doLogin = async history => {\n    try {\n      let error = await this.props.store.doLogin(\n        this.email.current.value,\n        this.password.current.value\n      );\n\n      if (error.code) {\n        throw error;\n      } \n    } catch (e) {\n      this.setState(() => ({ showErrorToast: true, errMsg: e.message }));\n    }\n  };\n\n  render() {\n    let { isAuth, initializationError, activeUser } = this.props.store;\n\n    if (activeUser) {\n      return <Redirect to=\"/home\" />;\n    } else {\n      return (\n        <>\n          <IonText color=\"danger\" padding style={{ fontWeight: \"500\" }}>\n            {initializationError && initializationError.message}\n          </IonText>\n          <BasicPage\n            title=\"Login Page\"\n            hasMenu\n            renderContent={history => {\n              return (\n                <>\n                  <IonItem>\n                    <IonLabel position=\"floating\">Email Address</IonLabel>\n                    <IonInput type=\"email\" ref={this.email} name=\"email\" />\n                  </IonItem>\n                  <IonItem>\n                    <IonLabel position=\"floating\">Password</IonLabel>\n                    <IonInput\n                      type=\"password\"\n                      ref={this.password}\n                      name=\"password\"\n                    />\n                  </IonItem>\n                  <div style={{ padding: 10, paddingTop: 20 }}>\n                    <IonButton\n                      expand=\"full\"\n                      style={{ margin: 14 }}\n                      onClick={e => {\n                        if (!e.currentTarget) {\n                          return;\n                        }\n                        e.preventDefault();\n                        this._doLogin(history);\n                      }}\n                    >\n                      {isAuth ? \"Logged In\" : \"Login\"}\n                    </IonButton>\n                \n                  </div>\n                </>\n              );\n            }}\n          />\n          <IonToast\n            color=\"danger\"\n            isOpen={this.state.showErrorToast}\n            onDidDismiss={() =>\n              this.setState(() => ({ showErrorToast: false }))\n            }\n            message={this.state.errMsg}\n            duration={2000}\n          />\n        </>\n      );\n    }\n  }\n}\n\nexport default inject(\"store\")(observer(LoginPage));\n"]},"metadata":{},"sourceType":"module"}